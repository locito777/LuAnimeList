<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LuAnimeList</title>

  <style>
    :root{
      --bg:#0b0b12; --card:#141424; --text:#ffffff;
      --muted:#b6b6c9; --violet:#8a2be2;
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:linear-gradient(180deg,#0a0a13 0%, #0e0e1a 100%);
      color:var(--text);
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
      line-height:1.5;
    }
    .header{padding:32px 16px 8px; text-align:center}
    .title{font-size:clamp(36px,6vw,64px); color:#fff; -webkit-text-stroke:3px var(--violet); text-stroke:3px var(--violet); letter-spacing:2px; margin:0 0 6px}
    .subtitle{color:var(--muted); margin:0 0 24px}
    .container{max-width:1100px; margin:0 auto; padding:0 16px 64px}
    .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(290px,1fr)); gap:16px}

    .card{background:var(--card); border:1px solid rgba(255,255,255,0.06); border-radius:14px; padding:16px; position:relative; overflow:hidden}
    .card h3{margin:10px 0 8px; font-size:20px}
    .meta{font-size:13px; color:var(--muted); margin-bottom:8px}
    .badges{display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 12px}
    .badge{font-size:12px; border:1px solid rgba(255,255,255,0.2); color:var(--muted); padding:2px 8px; border-radius:999px}

    .cover{width:100%; height:auto; border-radius:10px; display:block}

    .btns{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
    .btn{
      --c:#444; background:var(--c); color:#fff; border:none; border-radius:10px;
      padding:10px 12px; font-weight:600; font-size:13px; text-decoration:none;
      display:inline-flex; align-items:center; gap:8px; cursor:pointer;
      transition:transform .1s ease, filter .2s ease;
    }
    .btn:hover{ transform:translateY(-1px); filter:brightness(1.08) }
    .btn.disabled{ filter:grayscale(.4) brightness(.7); cursor:not-allowed }
    .dot{ width:8px; height:8px; border-radius:50%; background:#fff; display:inline-block }

    .crown{ position:absolute; top:10px; right:10px; width:28px; height:28px; background:none; border:none; cursor:pointer; opacity:.9 }
    .crown .fill{ fill:transparent; transition:fill .25s ease }
    .crown .stroke{ stroke:#c9c9d9; stroke-width:2; fill:none }
    .crown.active .fill{ fill:#ffd54a }
    .crown.active .stroke{ stroke:#ffbf00 }

    .confetti{ position:absolute; inset:0; pointer-events:none }
    .confetti i{ position:absolute; width:8px; height:8px; opacity:0; transform:translateY(0) rotate(0); animation:fall 2s ease-out forwards }
    @keyframes fall{ 0%{opacity:1; transform:translateY(-10px) rotate(0deg)} 100%{opacity:0; transform:translateY(60px) rotate(360deg)} }

    .notice{ color:#ffc277; font-size:12px; margin:16px 0 4px }
    .footer{ color:var(--muted); text-align:center; padding:24px 12px; font-size:12px }
    a.titlelink{ color:inherit; text-decoration:none } a.titlelink:hover{ text-decoration:underline }
  </style>
</head>

<body>
  <header class="header">
    <h1 class="title">LuAnimeList</h1>
    <p class="subtitle">Deine Anime-Sammlung ‚Ä¢ Klick auf den Titel f√ºr Details ‚Ä¢ Klicke die Krone f√ºr Favoriten (Konfetti! üéâ)</p>
  </header>

  <div class="container">
    <div id="app"></div>
    <p class="notice">Hinweis: Ich verlinke nur auf legale Anbieter. ‚ÄûAniWorld‚Äú wird aus rechtlichen Gr√ºnden nicht direkt verlinkt (Button ohne Link).</p>
  </div>

  <footer class="footer">¬© LuAnimeList ‚Ä¢ Region: Schweiz (DE-Audio/Sub, soweit verf√ºgbar)</footer>

  <script>
    /* ===== Daten (DEINE Liste ‚Äì nur Beispielbilder eingetragen) ===== */
    const DATA = [
      {title:"The Seven Deadly Sins",slug:"the-seven-deadly-sins",image:"images/images/IMG_0538.jpeg",
       genres:["Action","Fantasy","Adventure","Sh≈çnen"], trailer:"https://youtu.be/_erEYpW3L0E", providers:[]},

      {title:"The Seven Deadly Sins: Dragon‚Äôs Judgement",slug:"the-seven-deadly-sins-dragons-judgement",image:"images/images/IMG_0624.jpeg",
       genres:["Action","Fantasy","Adventure","Sh≈çnen"], trailer:"https://youtu.be/0kgL6OKT5nw",
       providers:[{name:"Netflix",url:"https://www.netflix.com/de/title/80050063?s=i&trkid=254567369&vlang=de&trg=cp"}]},

      {title:"The Seven Deadly Sins: Four Knights of the Apocalypse",slug:"the-seven-deadly-sins-four-knights-of-the-apocalypse",image:"images/images/IMG_0627.jpeg",
       genres:["Action","Fantasy","Adventure","Sh≈çnen"], trailer:"https://youtu.be/kKRP8ATyq3k",
       providers:[{name:"Netflix",url:"https://www.netflix.com/de/title/81562396?s=i&trkid=258593161&vlang=de&trg=cp"}]},

      {title:"Chainsaw Man",slug:"chainsaw-man",image:"images/images/IMG_0599.jpeg",
       genres:["Action","Horror","Supernatural","Dark Fantasy"], trailer:"https://youtu.be/H43cNX07HFQ", providers:[]},

      {title:"Solo Leveling",slug:"solo-leveling",image:"images/images/IMG_0627.jpeg",
       genres:["Action","Fantasy","Adventure"], trailer:"https://youtu.be/x40O_l6Nk3U",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GDKHZEJ0K/solo-leveling"}]},

      {title:"My Hero Academia",slug:"my-hero-academia",image:"images/images/IMG_0622.jpeg",
       genres:["Action","Superhero","Sh≈çnen"], trailer:"", providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G6NQ5DWZ6/my-hero-academia"}]},

      {title:"Naruto Shippuden",slug:"naruto-shippuden",image:"images/images/IMG_0624.jpeg",
       genres:["Action","Adventure","Ninja","Sh≈çnen"], trailer:"https://youtu.be/1GHJFYExsJU",
       providers:[{name:"Netflix",url:"https://www.netflix.com/de/title/80000603?s=i&trkid=254643526&vlang=de&trg=cp"}]},

      {title:"Tokyo Ghoul",slug:"tokyo-ghoul",image:"images/images/IMG_0447.webp",
       genres:["Horror","Supernatural","Dark Fantasy"], trailer:"https://youtu.be/BCP6n6bsPWw",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G6NV7Z50Y/tokyo-ghoul"}]},

      {title:"Attack on Titan (Shingeki no Kyojin)",slug:"attack-on-titan",image:"images/images/IMG_0598.png",
       genres:["Action","Dark Fantasy","Postapokalyptisch"], trailer:"https://youtu.be/79oqWomZ6x4", providers:[]},

      {title:"Elfen Lied",slug:"elfen-lied",image:"images/images/IMG_0607.png",
       genres:["Horror","Psychological","Drama"], trailer:"https://youtu.be/wGeXsBWw4mM", providers:[]},

      {title:"Failure Frame",slug:"failure-frame",image:"images/images/IMG_0608.jpeg",
       genres:["Dark Fantasy","Isekai","Action"], trailer:"https://youtu.be/O5vpnueJWeI",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G3KHEVD3E/failure-frame-i-became-the-strongest-and-annihilated-everything-with-low-level-spells"}]},

      {title:"You Are My Eternity (Fumetsu no Anata e)",slug:"you-are-my-eternity",image:"images/images/IMG_0614.webp",
       genres:["Drama","Fantasy","Adventure"], trailer:"https://youtu.be/ueptsgaya_Q",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GG5H5XMWV/to-your-eternity"}]},

      {title:"Sword Art Online",slug:"sao",image:"images/images/IMG_0600.png",
       genres:["Sci-Fi","Isekai","Adventure","Romance"], trailer:"https://youtu.be/w8s65ioWIJQ",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GR49G9VP6/sword-art-online"}]},

      {title:"Higurashi",slug:"higurashi",image:"images/images/IMG_0612.jpeg",
       genres:["Horror","Mystery","Psychological"], trailer:"https://youtu.be/7pz5iub3bug", providers:[]},

      {title:"Masamune-kun‚Äôs Revenge (S1+S2)",slug:"masamune-kuns-revenge",image:"images/images/IMG_0617.jpeg",
       genres:["Romance","Comedy","School"], trailer:"https://youtu.be/V21sAf_UMMY",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GYX02P3MR/masamune-kuns-revenge"}]},

      {title:"Reborn as a Vending Machine, I Now Wander the Dungeon",slug:"reborn-as-a-vending-machine",image:"images/images/IMG_0626.jpeg",
       genres:["Comedy","Isekai","Fantasy"], trailer:"https://youtu.be/RVyhFZF5ius",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GVDHX8504/reborn-as-a-vending-machine-i-now-wander-the-dungeon"}]},

      {title:"Demon Slayer",slug:"demon-slayer",image:"images/images/IMG_0604.jpeg",
       genres:["Action","Dark Fantasy"], trailer:"https://youtu.be/s2BNK1uy42g",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GY5P48XEY/demon-slayer-kimetsu-no-yaiba"}]},

      {title:"Tokyo Revengers",slug:"tokyo-revengers",image:"images/images/IMG_0448.png",
       genres:["Action","Time Travel","Drama"], trailer:"https://youtu.be/fSHhNUmXMeA",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G3KHEVMN1/tokyo-revengers"}]},

      {title:"One Punch Man",slug:"one-punch-man",image:"images/images/IMG_0625.jpeg",
       genres:["Action","Comedy","Superhero"], trailer:"https://youtu.be/B_jg-uHObrI", providers:[]},

      {title:"Hell‚Äôs Paradise",slug:"hells-paradise",image:"images/images/IMG_0611.jpeg",
       genres:["Action","Dark Fantasy"], trailer:"https://youtu.be/aoPX_cCfzXo",
       providers:[
         {name:"Crunchyroll",url:"https://crunchyroll.com/series/GJ0H7Q5ZJ/hells-paradise"},
         {name:"Netflix",url:"https://www.netflix.com/de/title/81574246?s=i&trkid=254643526&vlang=de&trg=cp"}
       ]},

      {title:"Dan Da Dan",slug:"dan-da-dan",image:"images/images/IMG_0603.jpeg",
       genres:["Supernatural","Action","Comedy","Romance"], trailer:"https://youtu.be/TEa98DnsSYY",
       providers:[
         {name:"Crunchyroll",url:"https://crunchyroll.com/series/GG5H5XQ0D/dan-da-dan"},
         {name:"Netflix",url:"https://www.netflix.com/de/title/81736884?s=i&trkid=258593161&vlang=de&trg=cp"}
       ]},

      {title:"Dr. STONE",slug:"dr-stone",image:"images/images/IMG_0605.jpeg",
       genres:["Sci-Fi","Adventure"], trailer:"https://youtu.be/aqAw1rilA24",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GYEXQKJG6/dr-stone"}]},

      {title:"Mashle",slug:"mashle",image:"images/images/IMG_0618.jpeg",
       genres:["Action","Comedy","Fantasy"], trailer:"https://youtu.be/Y1HXrFvYwEI",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GDKHZEP8W/mashle-magic-and-muscles"}]},

      {title:"Junji Ito Collection",slug:"junji-ito-collection",image:"images/images/IMG_0613.jpeg",
       genres:["Horror"], trailer:"https://youtu.be/4OtHRdU5SPk",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G68V4NDJ6/junji-ito-collection"}]},

      {title:"Gachiakuta",slug:"gachiakuta",image:"images/images/IMG_0610.jpeg",
       genres:["Action","Mystery","Dark Fantasy"], trailer:"https://youtu.be/vkT2Oz8GqNw",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GP5HJ84P7/gachiakuta"}]},

      {title:"Charlotte",slug:"charlotte",image:"images/images/IMG_0602.jpeg",
       genres:["Drama","Supernatural","School"], trailer:"https://youtu.be/QscDO21WMl0", providers:[]},

      {title:"Mushoku Tensei",slug:"mushoku-tensei",image:"images/images/IMG_0619.jpeg",
       genres:["Fantasy","Isekai","Drama"], trailer:"https://youtu.be/OvWiug-AB8w",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G24H1N3MP/mushoku-tensei-jobless-reincarnation"}]},

      {title:"Wind Breaker",slug:"wind-breaker",image:"images/images/IMG_0609.webp",
       genres:["Action","School"], trailer:"https://youtu.be/Sdddy0LoTYI",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/G3KHEVDPE/wind-breaker"}]},

      {title:"Assassination Classroom",slug:"assassination-classroom",image:"images/images/IMG_0597.jpeg",
       genres:["Action","Comedy","School"], trailer:"https://youtu.be/OzXYtOtYKoM",
       providers:[{name:"Netflix",url:"https://www.netflix.com/de/title/80045948?s=i&trkid=258593161&vlang=de&trg=cp"}]},

      {title:"Lord of Mysteries",slug:"lord-of-mysteries",image:"images/images/IMG_0616.jpeg",
       genres:["Mystery","Supernatural","Fantasy"], trailer:"https://youtu.be/a8p-l75icsA",
       providers:[{name:"Crunchyroll",url:"https://crunchyroll.com/series/GEXH3W2EZ/lord-of-mysteries"}]},

      {title:"Lookism",slug:"lookism",image:"images/images/IMG_0615.jpeg",
       genres:["Drama","School","Supernatural"], trailer:"https://youtu.be/c5smqeJ1Yxk",
       providers:[{name:"Netflix",url:"https://www.netflix.com/de/title/81177634?s=i&trkid=258593161&vlang=de&trg=cp"}]}
    ];

    /* ===== Farben / Hilfen ===== */
    const PROVIDER_COLOR = {"Crunchyroll":"#ff8800","Amazon Prime":"#1f6feb","Disney+":"#ff69b4","Netflix":"#e50914","AniWorld":"#8a2be2"};
    const COLORS = {"Crunchyroll":"#ff8800","Amazon Prime":"#1f6feb","Disney+":"#ff69b4","Netflix":"#e50914"};
    const getSlug = () => new URLSearchParams(location.search).get("slug");
    const dot = () => '<span class="dot"></span>';

    function ytEmbed(url){
      if(!url) return "";
      const m = url.match(/youtu\.be\/([A-Za-z0-9_-]+)/) || url.match(/[?&]v=([A-Za-z0-9_-]+)/);
      const id = m ? m[1] : "";
      return id ? `<iframe width="100%" height="360" src="https://www.youtube-nocookie.com/embed/${id}" title="YouTube Trailer" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>` : "";
    }

    function btn(p){
      const color = PROVIDER_COLOR[p.name] || "#444";
      const safe = p.name !== "AniWorld" && p.url;
      const href = safe ? `href="${p.url}" target="_blank" rel="noopener"` : "";
      const cls = safe ? "btn" : "btn disabled";
      const title = safe ? p.name : p.name + " (kein Link)";
      return `<a class="${cls}" style="--c:${color}" ${href}>${dot()}${title}</a>`;
    }

    /* ===== Konfetti & Krone ===== */
    function confettiBurst(root, x=100, y=20){
      const colors = ['#ffd54a','#ff7a7a','#7ae0ff','#9d7aff','#7aff9a','#ff7ae1'];
      for(let i=0;i<60;i++){
        const p=document.createElement('i');
        p.style.left=(x + (Math.random()*120-60))+'px';
        p.style.top=(y + (Math.random()*20-10))+'px';
        p.style.background = colors[Math.floor(Math.random()*colors.length)];
        p.style.borderRadius = Math.random()>.5?'50%':'2px';
        p.style.animationDelay = (Math.random()*0.25)+'s';
        root.appendChild(p);
        setTimeout(()=>p.remove(),2100);
      }
    }
    function setupCrowns(){
      document.querySelectorAll('.crown').forEach(c=>{
        c.addEventListener('click', ()=>{
          c.classList.toggle('active');
          const root = c.closest('.card').querySelector('.confetti');
          if(root){
            const r = c.getBoundingClientRect();
            const host = c.closest('.card').getBoundingClientRect();
            confettiBurst(root, r.left-host.left+14, r.top-host.top+14);
          }
        });
      });
    }

    /* ===== Rendering ===== */
    function card(a){
      const genres = a.genres.map(g=>`<span class="badge">${g}</span>`).join("");
      const providers = a.providers?.length ? a.providers.map(btn).join("") : "<div class='notice'>Noch keine Anbieter.</div>";
      const trailerBtn = a.trailer ? `<a class="btn" style="--c:#444" href="${a.trailer}" target="_blank" rel="noopener">${dot()}Trailer</a>` : "";
      const cover = a.image ? `<img class="cover" src="${a.image}" alt="${a.title}">` : "";
      return `
        <div class="card" data-slug="${a.slug}">
          <div class="confetti"></div>
          <button class="crown" title="Als Favorit markieren" aria-label="Favorit">
            <svg viewBox="0 0 24 24">
              <path class="fill" d="M4 17h16l-1-8-4 3-3-6-3 6-4-3z"></path>
              <path class="stroke" d="M4 17h16l-1-8-4 3-3-6-3 6-4-3z"></path>
            </svg>
          </button>
          ${cover}
          <h3><a class="titlelink" href="?slug=${encodeURIComponent(a.slug)}">${a.title}</a></h3>
          <div class="meta">${a.genres.join(", ")}</div>
          <div class="badges">${genres}</div>
          <div class="btns">${providers}${trailerBtn}</div>
        </div>`;
    }

    function renderIndex(){
      const cards = DATA.map(card).join("");
      document.getElementById("app").innerHTML = `<div class="grid">${cards}</div>`;
      setupCrowns();
    }

    function renderDetail(slug){
      const a = DATA.find(x=>x.slug===slug);
      if(!a){ renderIndex(); return; }
      const trailer = ytEmbed(a.trailer);
      const links = (a.providers||[]).filter(p=>p && p.url).map(p=>`<a class="btn" style="--c:${COLORS[p.name]||'#444'}" href="${p.url}" target="_blank" rel="noopener">${p.name}</a>`).join("");
      document.getElementById("app").innerHTML = `
        <div class="card">
          ${a.image?`<img class="cover" src="${a.image}" alt="${a.title}">`:""}
          <h2 style="margin:10px 0 8px">${a.title}</h2>
          <div class="meta">Genres: ${a.genres.join(", ")}</div>
          ${trailer?`<div style="margin:12px 0">${trailer}</div>`:""}
          ${links?`<div class="btns" style="margin-top:8px">${links}</div>`:""}
          <div style="margin-top:14px"><a class="titlelink" href="index.html">‚Üê Zur√ºck zur √úbersicht</a></div>
        </div>`;
    }

    /* ===== Init (Router) ===== */
    document.addEventListener("DOMContentLoaded",()=>{
      const slug = getSlug();
      slug ? renderDetail(slug) : renderIndex();
    });
  </script>
</body>
</html>
